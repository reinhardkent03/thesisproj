{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block content %}
            <div>
               <h1 class="display-6 fw-bold text-center pt-5" style="color:#ff5722;">Edit Profile</h1>
           </div>
	   <div class="container mt-4 pb-5" style="float:right">
	<div class="row gutters">
	<div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
	<div class="card h-100">
		<div class="card-body">
			<div class="account-settings">
				<div class="user-profile">
					<div class="user-avatar">
						<img src="{{ user.image.url }}" alt="{{ user.first_name }}">
					</div>
					<h5 class="user-name">{{ user.first_name|capfirst }} {{ user.last_name|capfirst }}</h5>
					<h6 class="user-email">{{ user.email }}</h6>
				</div>
				{% if user.is_tutor %}
                    <div class="about">
                        <h5>Profile Headline</h5>
                        <h6><p>{{ user.tutor_profile.profile_headline }}</p></h6>
                        <p></p>
                    </div>
                {% endif %}
			</div>
		</div>
	</div>
	</div>
	<div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}
            {{ form.non_field_errors }}
            <div class="col-lg-8">
                <div class="card">
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">First Name</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" class="form-control" name="first_name" maxlength="100" {% if form.is_bound %} value="{{ form.first_name.value }}" {% endif %} placeholder="{{ user.first_name }}">
                                {% for error in form.first_name.errors %}
                                    <small class="text-danger ml-2">{{ error }}</small><br>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Last Name</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" class="form-control" name="last_name" maxlength="100" {% if form.is_bound %} value="{{ form.last_name.value }}" {% endif %} placeholder="{{ user.last_name }}">
                                {% for error in form.last_name.errors %}
                                    <small class="text-danger ml-2">{{ error }}</small><br>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Email</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="email" class="form-control" name="email" {% if form.is_boud %} value="{{ form.email.value }}" {% endif %} placeholder="{{ user.email }}">
                                {% for error in form.email.errors %}
                                    <small class="text-danger ml-2">{{ error }}</small><br>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Phone</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" class="form-control" name="phone_number" maxlength="11" {% if form.is_bound %} value="{{ form.phone_number.value }}" {% endif %} placeholder="{{ user.phone_number }}">
                                {% for error in form.phone_number.errors %}
                                    <small class="text-danger ml-2">{{ error }}</small><br>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6 class="mb-0">Address</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                <input type="text" class="form-control" name="current_address" maxlength="100" {% if form.is_bound %} value="{{ form.current_address.value }}" {% endif %} placeholder="{{ user.current_address }}">
                                {% for error in form.current_address.errors %}
                                    <small class="text-danger ml-2">{{ error }}</small><br>
                                {% endfor %}
                            </div>
                        </div>
                         <div class="row mb-3">
                            <div class="col-sm-3">
                                <h6>Image</h6>
                            </div>
                            <div class="col-sm-9 text-secondary">
                                {{ form.image.label_tag }}
                                {{ form.image }}
                                {% for error in form.image.errors %}
                                    <small class="text-danger ml-2">{{ error }}</small><br>
                                {% endfor %}
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3"></div>
                            <div class="col-sm-9 text-secondary">
                                <input type="submit" class="btn btn-warning px-4" value="Save Changes">
                                <a href="{% url 'accounts:profile' %}" class="btn btn-danger px-4 mx-2">Cancel</a>
                            </div>
                        </div>
                    </div>
                </div>
             </div>
        </form>
	</div>
	</div>
	</div>
<!--prevent footer from overflowing -->
<div>
</div>
{% endblock %}